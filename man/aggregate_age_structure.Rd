% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aggregate_age_structure.R
\name{aggregate_age_structure}
\alias{aggregate_age_structure}
\title{Aggregate Age Structure of a Model Output Object}
\usage{
aggregate_age_structure(
  obj,
  age_breaks,
  method = c("sum", "mean", "weighted.mean"),
  weights = NULL,
  time_var = "dim4"
)
}
\arguments{
\item{obj}{A data frame with at least the columns `dim1` and `value`. If using time-varying weights, must also include a time column (default: `dim4`).}

\item{age_breaks}{A numeric vector of breakpoints defining age bands (e.g. c(0, 1, 5, 10, 20, 30, 40, 50, 60, 70, 80, Inf)).}

\item{method}{One of `"sum"`, `"mean"`, or `"weighted.mean"`. Controls aggregation method.}

\item{weights}{Optional. Either a numeric vector of length 101 (ages 0–100) or a matrix/data.frame of dimension (time × age).}

\item{time_var}{Name of the column in `obj` representing time (used only if `weights` is time-varying). Default is `"dim4"`.}
}
\value{
A data frame with aggregated `dim1` values and other dimensions preserved.
}
\description{
Aggregates a long-format data frame with an age dimension (`dim1`) into custom age groups
based on specified `age_breaks`. Supports sum, mean, or population-weighted.mean aggregation.
}
